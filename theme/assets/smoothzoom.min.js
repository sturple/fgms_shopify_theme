/*! smoothzoom 2016-10-28 | Version: 0.0.11 
* https://github.com/sturple/Smoothzoom#readme 
* Shawn Turple original - (kthornbloom) 
*/
!function(a){"use strict";a.fn.extend({smoothZoom:function(b){function c(){if("true"==l.showCaption||l.showCaption===!0){var b=a("#lightzoomed").attr("title");b?a(".sz-caption").html("<span>"+b+"</span>"):a(".sz-caption").empty()}}function d(a){var b;return b=a.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/),!(!b||11!==b[2].length)&&b[2]}function e(){var b=a("#lightzoomed").offset(),c=a("#lightzoomed").width(),d=a("#lightzoomed").height(),e=a(window).scrollTop();a(".sz-overlay").stop(!0,!0).fadeOut(300,function(){a(".sz-left, .sz-right,.sz-caption, .sz-close").remove()}),void 0!==b&&a(".sz-zoomed").stop(!0,!0).animate({width:c,height:d,top:b.top-e,left:b.left},l.zoomoutSpeed,l.zoomoutEasing,function(){a(".sz-zoomed").stop(!0,!0).fadeOut(400,function(){a("#lightzoomed").removeAttr("id")}),a(".sz-overlay").remove(),a(".sz-zoomed iframe").length>0&&a(".sz-zoomed").find("iframe").attr("src","")})}function f(b){var d=a("#lightzoomed").parents("a").data("smoothzoom"),e=a("#lightzoomed").parents("a").index("[data-smoothzoom="+d+"]"),f=a("a[data-smoothzoom="+d+"]").length;b=void 0===b?0:b,b=Math.min(parseInt(b),1);var g=e+b;g>=f&&(g=0),g<=-1&&(g=f-1),a("#lightzoomed").removeAttr("id"),a(".sz-zoomed").stop(!0,!0).animate({opacity:"0"},200,function(){var b=a("[data-smoothzoom="+d+"]:eq("+g+")");b.find("img").attr("id","lightzoomed"),l.onImageChange(b,d,g),a(this).html(h(a("#lightzoomed").parent())),c()})}function g(b){a(".sz-loading").remove(),a(".sz-zoomed *").animate({opacity:"0.95"}),a(".sz-zoomed").stop(!0,!0).animate(b,l.zoominSpeed,l.zoominEasing,function(){a(".sz-overlay").fadeIn(500,function(){a(".sz-zoomed *").animate({opacity:"1"});var b=a("#lightzoomed").parents("a").data("smoothzoom"),d=a("a[data-smoothzoom="+b+"]").length;("true"===l.navigationButtons||l.navigationButtons===!0)&&d>1&&0===a(".sz-right").length&&a("body").append("<a href='#' class='sz-left' style='z-index: 991;'>"+l.navigationLeft+"</a><a href='#' class='sz-right' style='z-index: 991;'>"+l.navigationRight+"</a>"),"true"!==l.closeButton&&l.closeButton!==!0||0!==a(".sz-close").length||a("body").append("<a href='#' class='sz-close' style='z-index: 991;'>"+l.navigationClose+"</a>"),"true"!==l.showCaption&&l.showCaption!==!0||0!==a(".sz-caption").length||a("body").append("<div class='sz-caption'></div>"),c(),n=0})})}function h(b){a("body").append('<div class="sz-loading">'+l.navigationLoading+"</div>");var c=b.attr("href"),e=void 0===b.attr("data-width")?1280:Math.max(b.attr("data-width"),560),f=void 0===b.attr("data-height")?720:Math.max(b.attr("data-height"),315),h=c.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i),k="";h?(k+='<img style=" width: inherit; height: auto; opacity:0;" src="'+c+'" />',a(".sz-zoomed").html(k),a("<img/>").attr("src",c).load(function(){g(i(this.width,this.height))})):d(c)!==!1?(j("Source is Youtube"),k+=' <div class="embed-responsive embed-responsive-16by9" >',k+='<iframe   class="embed-responsive-item" ',k+='src="https://www.youtube.com/embed/'+d(c)+"?"+l.youtubeOptions+'"',k+='frameborder="0" allowfullscreen></iframe>',k+="</div>",a(".sz-zoomed").html(k),g(i(e,f))):(j("Source is remote"),a.ajax({url:c,dataType:"html",success:function(b){a(".sz-zoomed").html(b).css({"overflow-x":"hidden","overflow-y":"auto"}),g(i(e,f))}}))}function i(b,c){var d=a(".sz-caption").outerHeight(),e=(a(window).outerHeight()-d)/2,f=a(window).outerWidth()/2,g=a(window).outerWidth()/b,h=b,i=c;c>.9*a(window).outerHeight()-d&&(g=(.9*a(window).outerHeight()-d)/c,h=b*g,i=c*g),h>a(window).outerWidth()&&(i*=g),h=Math.min(a(window).outerWidth(),h),i=Math.min(a(window).outerHeight(),i);var k=e-i/2+"px",l=f-h/2+"px",m={opacity:"1",top:k,left:l,width:h+"px",height:i+"px"};return j(m),m}function j(){l.debug&&console.log(arguments)}var k={zoominSpeed:300,zoomoutSpeed:400,zoominEasing:"linear",zoomoutEasing:"linear",navigationButtons:"true",navigationLeft:"&#9664;",navigationRight:"&#9654;",navigationClose:"&#10006;",navigationLoading:'<i class="fa fa-spinner fa-spin fa-3x fa-fw"></i><span class="sr-only">Loading...</span>',closeButton:"true",closeOnClick:!0,showCaption:"true",youtubeOptions:"rel=0&autoplay=1",debug:!1,onImageChange:function(){}},l=a.extend(k,b),m=a(this),n=0;m.closest("a[data-smoothzoom]").on("click",function(b){if(0===n){n=1,a(".sz-zoomed, .sz-overlay, .sz-left, .sz-right,.sz-caption").remove();var c=a("img",this).offset(),d=a(window).scrollTop();a("img",this).attr("id","lightzoomed"),a("body").append("<div class='sz-overlay' style='z-index: 990;'></div><a href='#' class='sz-zoomed' style='z-index: 991;' ></a>"),a(".sz-zoomed").css({width:a("img",this).width(),height:a("img",this).height(),top:c.top-d,left:c.left}),h(a(this))}b.preventDefault()});var o=l.closeOnClick===!0?".sz-zoomed,.sz-close, .sz-overlay":".sz-close";a(document.body).on("click",o,function(a){return e(),a.stopPropagation(),!1}),a(document.body).on("click"," .sz-right",function(a){f(1),a.preventDefault()}),a(document.body).on("click",".sz-left",function(a){f(-1),a.preventDefault()}),a(document).keydown(function(b){switch(j("keydown",b),b.which){case 37:a(".sz-overlay").length&&f(-1);break;case 39:a(".sz-overlay").length&&f(1);break;case 27:e();break;case 40:e();break;default:return}b.preventDefault()})}})}(jQuery);