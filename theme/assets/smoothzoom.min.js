/*! smoothzoom 2016-07-14 | Version: 1.0.3 
* https://github.com/sturple/Smoothzoom#readme 
* Shawn Turple original - (kthornbloom) 
*/
!function(a){a.fn.extend({smoothZoom:function(b){function c(){if("true"==k.showCaption){a(".sz-caption").fadeOut();var b=a("#lightzoomed").attr("alt");b?a(".sz-caption").html("<span>"+b+"</span>").fadeIn():a(".sz-caption").empty()}}function d(a){var b;return b=a.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/),b&&11===b[2].length?b[2]:!1}function e(){var b=a("#lightzoomed").offset(),c=a("#lightzoomed").width(),d=a("#lightzoomed").height(),e=a(window).scrollTop();a(".sz-overlay, .sz-left, .sz-right").fadeOut(300,function(){a(".sz-left, .sz-right,.sz-caption, .sz-close").remove()}),a(".sz-zoomed").stop(!0,!0).animate({width:c,height:d,top:b.top-e,left:b.left},k.zoomoutSpeed,k.zoomoutEasing,function(){a(".sz-zoomed").fadeOut(800),a(".sz-zoomed iframe").length>0&&a(".sz-zoomed").find("iframe").attr("src",""),a("#lightzoomed").removeAttr("id")}),a(".sz-zoomed").data("firstime",!0)}function f(b){var d=a("#lightzoomed").parents("a").data("smoothzoom"),e=a("#lightzoomed").parents("a").index("[data-smoothzoom="+d+"]"),f=a("a[data-smoothzoom="+d+"]").length;b=void 0===b?0:b,b=Math.min(parseInt(b),1);var h=e+b;h>=f&&(h=0),-1>=h&&(h=f-1),a("#lightzoomed").removeAttr("id"),a(".sz-zoomed").stop(!0,!0).animate({opacity:"0"},200,function(){a("[data-smoothzoom="+d+"]:eq("+h+")").find("img").attr("id","lightzoomed"),a(this).html(g(a("#lightzoomed").parent())),c()})}function g(b){var c=b.attr("href"),e=void 0===b.attr("data-width")?1280:Math.max(b.attr("data-width"),560),f=void 0===b.attr("data-height")?720:Math.max(b.attr("data-height"),315);i("Source",c,"wr",b.attr("data-width"),"w",e,"hr",b.attr("data-height"),"h",f),a(".sz-zoomed").data("firstime",!1);var g=c.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i),j="";g?(i("Source is Image"),j+='<img style=" width: inherit; height: auto; opacity:0;" src="'+c+'" />',a(".sz-zoomed").html(j),a("<img/>").attr("src",c).load(function(){a(".sz-zoomed img").animate({opacity:"0.95"}),a(".sz-zoomed").stop(!0,!0).animate(h(this.width,this.height),k.zoominSpeed,k.zoominEasing,function(){a(".sz-overlay, .sz-left, .sz-right, .sz-close").fadeIn(500,function(){a(".sz-zoomed img").animate({opacity:"1"})})})})):d(c)!==!1?(i("Source is Youtube"),j+=' <div class="embed-responsive embed-responsive-16by9" >',j+='<iframe   class="embed-responsive-item" ',j+='src="https://www.youtube.com/embed/'+d(c)+"?"+k.youtubeOptions+'"',j+='frameborder="0" allowfullscreen></iframe>',j+="</div>",a(".sz-zoomed").html(j),a(".sz-zoomed").stop(!0,!0).animate(h(e,f),k.zoominSpeed,k.zoominEasing,function(){a(".sz-overlay, .sz-left, .sz-right, .sz-close").fadeIn()})):(i("Source is remote"),a.ajax({url:c,dataType:"html",success:function(b){a(".sz-zoomed").html(b).css({"overflow-x":"hidden","overflow-y":"auto"}),a(".sz-zoomed").stop(!0,!0).animate(h(e,f),k.zoominSpeed,k.zoominEasing,function(){a(".sz-overlay, .sz-left, .sz-right, .sz-close").fadeIn(500,function(){a(".sz-zoomed *").animate({opacity:"1"})})})}}))}function h(b,c){var d=a(".sz-caption").outerHeight(),e=(a(window).outerHeight()-d)/2,f=a(window).outerWidth()/2,g=a(window).outerWidth()/b,h=b,j=c;c>.9*a(window).outerHeight()-d&&(g=(.9*a(window).outerHeight()-d)/c,h=b*g,j=c*g),h>a(window).outerWidth()&&(j*=g),h=Math.min(a(window).outerWidth(),h),j=Math.min(a(window).outerHeight(),j);var k=e-j/2+"px",l=f-h/2+"px",m={opacity:"1",top:k,left:l,width:h+"px",height:j+"px"};return i(m),m}function i(){k.debug&&console.log(arguments)}var j={zoominSpeed:300,zoomoutSpeed:400,zoominEasing:"linear",zoomoutEasing:"linear",navigationButtons:"true",navigationLeft:"&#9664;",navigationRight:"&#9654;",navigationClose:"&#10006;",closeButton:"true",closeOnClick:!0,showCaption:"true",youtubeOptions:"rel=0&autoplay=1",debug:!1},k=a.extend(j,b),l=a(this);l.closest("a[data-smoothzoom]").click(function(b){a(".sz-zoomed, .sz-overlay, .sz-left, .sz-right,.sz-caption").remove();var d=a("img",this).offset(),e=a(window).scrollTop();a("img",this).attr("id","lightzoomed"),a("body").append("<div class='sz-overlay' style='z-index: 990;'></div><a href='#' class='sz-zoomed' style='z-index: 991;' ></a>");var f=a("#lightzoomed").parents("a").data("smoothzoom"),h=a("a[data-smoothzoom="+f+"]").length;"true"==k.navigationButtons&&h>1&&a("body").append("<a href='#' class='sz-left' style='z-index: 991;'>"+k.navigationLeft+"</a><a href='#' class='sz-right' style='z-index: 991;'>"+k.navigationRight+"</a>"),"true"==k.closeButton&&a("body").append("<a href='#' class='sz-close' style='z-index: 991;'>"+k.navigationClose+"</a>"),"true"==k.showCaption&&(a("body").append("<div class='sz-caption'></div>"),c()),a(".sz-zoomed").css({width:a("img",this).width(),height:a("img",this).height(),top:d.top-e,left:d.left}),g(a(this)),i("Click Event",k),b.preventDefault()});var m=k.closeOnClick===!0?".sz-zoomed,.sz-close":".sz-close";a(document.body).on("click",m,function(a){return e(),a.stopPropagation(),!1}),a(document.body).on("click"," .sz-right",function(a){f(1),a.preventDefault()}),a(document.body).on("click",".sz-left",function(a){f(-1),a.preventDefault()}),i("Init for image",l),a(document).keydown(function(b){switch(i("keydown",b),b.which){case 37:a(".sz-overlay").length&&f(-1);break;case 39:a(".sz-overlay").length&&f(1);break;case 27:e();break;case 40:e();break;default:return}b.preventDefault()})}})}(jQuery);